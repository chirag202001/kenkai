<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/><title>API Gateway Prototype - Kenkai Labs</title><style>body{margin:0;font-family:system-ui,-apple-system,Segoe UI,Roboto,sans-serif;background:#0f172a;color:#f1f5f9;}::-webkit-scrollbar{width:10px}::-webkit-scrollbar-track{background:#1e293b}::-webkit-scrollbar-thumb{background:#334155;border-radius:6px}h1,h2,h3{margin:0;font-weight:600}a{text-decoration:none;color:inherit}button{cursor:pointer}#app{display:grid;grid-template-columns:260px 1fr;height:100vh;}aside{background:#1e293b;display:flex;flex-direction:column;border-right:1px solid #334155;} .brand{padding:20px 24px;font-size:20px;font-weight:700;letter-spacing:.5px;background:#0f172a;border-bottom:1px solid #334155;display:flex;align-items:center;gap:8px} .nav{flex:1;overflow-y:auto;padding:14px 0} .nav-item{padding:12px 24px;font-size:14px;font-weight:500;display:flex;align-items:center;gap:10px;color:#cbd5e1;transition:.15s;background:transparent;border-left:4px solid transparent} .nav-item.active{background:#0f172a;color:#fff;border-left-color:#3b82f6} .nav-item:hover{background:#0f172a;color:#fff} .badge{background:#0ea5e9;font-size:11px;padding:2px 6px;border-radius:6px;font-weight:600;color:#fff} .main{display:flex;flex-direction:column;overflow:hidden} header{height:60px;background:#1e293b;border-bottom:1px solid #334155;display:flex;align-items:center;justify-content:space-between;padding:0 24px} .search{flex:1;margin:0 24px;max-width:480px;position:relative} .search input{width:100%;background:#0f172a;border:1px solid #334155;color:#f1f5f9;padding:10px 38px 10px 14px;border-radius:10px;font-size:14px} .search-icon{position:absolute;right:10px;top:50%;transform:translateY(-50%);font-size:16px;color:#64748b} .actions{display:flex;gap:12px} .btn{background:#334155;color:#f1f5f9;border:none;padding:10px 16px;font-size:13px;font-weight:600;border-radius:8px;display:flex;align-items:center;gap:6px} .btn.primary{background:#3b82f6} .btn.danger{background:#dc2626} .btn:hover{filter:brightness(1.1)} .content{flex:1;overflow-y:auto;position:relative} .screen{display:none;padding:28px 40px 60px} .screen.active{display:block;animation:fade .35s ease} @keyframes fade{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}} .grid{display:grid;gap:24px} .grid.cols-3{grid-template-columns:repeat(auto-fit,minmax(280px,1fr))} .card{background:#1e293b;border:1px solid #334155;border-radius:14px;padding:20px 22px;display:flex;flex-direction:column;gap:14px;position:relative;transition:.2s} .card:hover{border-color:#3b82f6;box-shadow:0 0 0 1px #3b82f6} .card h3{font-size:16px} .metric{font-size:32px;font-weight:700;color:#3b82f6} .sub{font-size:12px;color:#94a3b8;text-transform:uppercase;letter-spacing:.5px;font-weight:600} table{width:100%;border-collapse:collapse;font-size:13px} th,td{padding:10px 12px;text-align:left;border-bottom:1px solid #334155} th{background:#0f172a;font-weight:600;font-size:12px;letter-spacing:.5px;color:#cbd5e1;text-transform:uppercase} tr:hover td{background:#0f172a} .tag{background:#3b82f6;color:#fff;font-size:11px;padding:4px 8px;border-radius:6px;font-weight:600;display:inline-block;margin-right:6px;margin-bottom:6px} .status{padding:4px 10px;border-radius:14px;font-size:11px;font-weight:600;display:inline-block} .status.live{background:#10b981;color:#fff} .status.beta{background:#f59e0b;color:#222} .status.deprecated{background:#dc2626;color:#fff} .flex{display:flex} .gap-16{gap:16px} .endpoint-row{cursor:pointer} .endpoint-row:hover td{background:#0f172a} .pill{background:#0ea5e9;padding:4px 10px;border-radius:30px;font-size:11px;font-weight:600;color:#fff} .section-head{display:flex;align-items:center;justify-content:space-between;margin:4px 0 18px} .divider{height:1px;background:#334155;margin:24px 0} .small{font-size:12px;color:#94a3b8} .list{display:grid;gap:12px} .item{background:#1e293b;border:1px solid #334155;padding:14px 16px;border-radius:12px;display:flex;justify-content:space-between;align-items:center;font-size:13px} .item:hover{border-color:#3b82f6} .muted{color:#64748b;font-size:12px} .rate-box{background:#0f172a;border:1px solid #334155;border-radius:14px;padding:18px 20px;margin-bottom:18px} .log-line{font-family:monospace;font-size:12px;padding:6px 0;border-bottom:1px dotted #334155;white-space:nowrap} .settings-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(320px,1fr));gap:24px;margin-top:20px} .setting{background:#1e293b;border:1px solid #334155;border-radius:14px;padding:20px 22px} .setting h4{margin:0 0 10px;font-size:14px} .toggle{width:46px;height:26px;background:#334155;border-radius:30px;position:relative;cursor:pointer} .toggle:after{content:"";position:absolute;top:3px;left:3px;width:20px;height:20px;background:#fff;border-radius:50%;transition:.25s} .toggle.active{background:#3b82f6} .toggle.active:after{transform:translateX(20px)} .modal{position:fixed;inset:0;background:rgba(15,23,42,.78);display:none;align-items:center;justify-content:center;z-index:600} .modal.active{display:flex} .modal-box{background:#1e293b;border:1px solid #3b82f6;border-radius:18px;width:560px;max-width:92%;padding:30px 34px;box-shadow:0 20px 50px -10px rgba(0,0,0,.6);animation:pop .35s ease} @keyframes pop{from{opacity:0;transform:translateY(40px) scale(.92)}to{opacity:1;transform:translateY(0) scale(1)}} .modal-box h2{margin:0 0 6px;font-size:22px} .modal-sub{font-size:13px;color:#94a3b8;margin-bottom:18px} .field{display:flex;flex-direction:column;margin-bottom:14px} .field label{font-size:11px;font-weight:600;margin-bottom:4px;color:#94a3b8;text-transform:uppercase;letter-spacing:.5px} .field input,.field select,.field textarea{background:#0f172a;border:1px solid #334155;border-radius:10px;padding:10px 12px;color:#f8fafc;font-size:13px;font-family:inherit;resize:vertical} .inline{display:flex;gap:12px} .pill-list{display:flex;flex-wrap:wrap;gap:8px;margin-top:6px} .danger-zone{border:1px solid #dc2626;background:#0f172a;padding:16px 18px;border-radius:12px;color:#dc2626;font-size:13px;font-weight:600} .modal-actions{display:flex;gap:14px;margin-top:10px} .btn.outline{background:#0f172a;border:1px solid #334155} .btn.outline:hover{border-color:#3b82f6} .code-block{background:#0f172a;border:1px solid #334155;padding:14px 16px;font-family:monospace;font-size:12px;border-radius:12px;white-space:pre-wrap;line-height:1.4} .success{background:#10b981} .warn{background:#f59e0b;color:#222} .filter-bar{display:flex;gap:12px;margin-bottom:14px} .filter-bar select{background:#0f172a;border:1px solid #334155;color:#fff;padding:8px 10px;border-radius:8px;font-size:12px} .endpoint-method{font-weight:700;font-size:12px;padding:4px 8px;border-radius:6px;background:#334155;color:#fff;margin-right:6px} .endpoint-method.get{background:#0ea5e9} .endpoint-method.post{background:#10b981} .endpoint-method.put{background:#f59e0b;color:#222} .endpoint-method.del{background:#dc2626} .hero-empty{padding:100px 40px;text-align:center} .hero-empty h2{font-size:38px;margin-bottom:12px} .hero-empty p{font-size:16px;color:#94a3b8;max-width:680px;margin:0 auto 30px} .floating{position:fixed;bottom:18px;right:18px;background:#3b82f6;color:#fff;padding:12px 18px;border-radius:14px;font-size:13px;font-weight:600;box-shadow:0 6px 24px -8px rgba(0,0,0,.6)}@media (max-width:1100px){#app{grid-template-columns:78px 1fr} .nav-item span{display:none} .nav-item{justify-content:center} .brand{font-size:16px}}@media (max-width:820px){.screen{padding:24px 24px 100px} header{flex-wrap:wrap;height:auto;padding:14px 18px;gap:12px} .search{order:3;margin:0;max-width:100%} .actions{width:100%;justify-content:flex-end}} </style></head><body><div id="app"><aside><div class="brand">üõ°Ô∏è API Gateway</div><div class="nav" id="nav"><div class="nav-item active" data-screen="dashboard"><span>Dashboard</span></div><div class="nav-item" data-screen="endpoints"><span>Endpoints</span></div><div class="nav-item" data-screen="keys"><span>Auth Keys</span></div><div class="nav-item" data-screen="rates"><span>Rate Limits</span></div><div class="nav-item" data-screen="logs"><span>Logs</span></div><div class="nav-item" data-screen="settings"><span>Settings</span></div></div></aside><div class="main"><header><div style="display:flex;align-items:center;gap:12px;font-weight:600">üìä <span id="headerTitle">Dashboard</span></div><div class="search"><input placeholder="Search endpoints, keys..."/><div class="search-icon">üîç</div></div><div class="actions"><button class="btn outline" onclick="openModal('quickHelp')">Help</button><button class="btn" onclick="openModal('newKey')">New Key</button><button class="btn primary" onclick="openModal('newEndpoint')">New Endpoint</button></div></header><div class="content"><div id="dashboard" class="screen active"><h2 style="font-size:28px;margin:4px 0 24px">Operational Overview</h2><div class="grid cols-3"><div class="card" onclick="openModal('requestsMetric')"><div class="sub">Requests (24h)</div><div class="metric" id="mRequests">128,442</div><div class="small">Peak 9,212 rpm ‚Ä¢ 0.03% errors</div></div><div class="card" onclick="openModal('latencyMetric')"><div class="sub">Avg Latency</div><div class="metric" id="mLatency">182 ms</div><div class="small">p95: 311 ms ‚Ä¢ p99: 480 ms</div></div><div class="card" onclick="openModal('uptimeMetric')"><div class="sub">Uptime (30d)</div><div class="metric">99.98%</div><div class="small">2 minor incidents resolved</div></div><div class="card" onclick="openModal('authActive')"><div class="sub">Active Keys</div><div class="metric" id="mKeys">42</div><div class="small">+3 today</div></div><div class="card" onclick="openModal('endpointCount')"><div class="sub">Endpoints</div><div class="metric" id="mEndpoints">27</div><div class="small">3 deprecated</div></div><div class="card" onclick="openModal('rateBreaches')"><div class="sub">Rate Limit Breaches</div><div class="metric" id="mBreaches">5</div><div class="small">Auto throttled</div></div></div><div class="divider"></div><div class="section-head"><h3 style="font-size:18px">Recent Activity</h3><button class="btn outline" onclick="openModal('activityFeed')">Full Feed</button></div><div class="list" id="activityList"></div></div><div id="endpoints" class="screen"><div class="section-head"><h2 style="font-size:26px">Endpoints</h2><div style="display:flex;gap:12px"><button class="btn" onclick="openModal('bulkImport')">Bulk Import</button><button class="btn primary" onclick="openModal('newEndpoint')">Add Endpoint</button></div></div><div class="filter-bar"><select id="filterMethod" onchange="renderEndpoints()"><option value="all">All Methods</option><option value="GET">GET</option><option value="POST">POST</option><option value="PUT">PUT</option><option value="DELETE">DELETE</option></select><select id="filterStatus" onchange="renderEndpoints()"><option value="all">All Status</option><option value="live">Live</option><option value="beta">Beta</option><option value="deprecated">Deprecated</option></select><input id="filterSearch" placeholder="Search path..." style="flex:1;background:#0f172a;border:1px solid #334155;color:#fff;padding:8px 10px;border-radius:8px;font-size:12px" oninput="renderEndpoints()"/></div><table><thead><tr><th>Method</th><th>Path</th><th>Description</th><th>Status</th><th>RPM</th><th>Errors</th><th></th></tr></thead><tbody id="endpointTable"></tbody></table></div><div id="keys" class="screen"><div class="section-head"><h2 style="font-size:26px">Authentication Keys</h2><div style="display:flex;gap:12px"><button class="btn" onclick="openModal('newKey')">Generate Key</button><button class="btn outline" onclick="openModal('revokeMulti')">Revoke Multiple</button></div></div><div class="list" id="keysList"></div></div><div id="rates" class="screen"><div class="section-head"><h2 style="font-size:26px">Rate Limits</h2><div style="display:flex;gap:12px"><button class="btn" onclick="openModal('newRate')">Add Policy</button><button class="btn outline" onclick="openModal('testThrottle')">Test Throttling</button></div></div><div id="ratePolicies"></div><div class="divider"></div><h3 style="font-size:18px;margin-bottom:12px">Real-Time Breaches (Simulated)</h3><div class="list" id="breachList"></div></div><div id="logs" class="screen"><div class="section-head"><h2 style="font-size:26px">Request Logs</h2><div style="display:flex;gap:12px"><button class="btn" onclick="addLogLine()">Stream +</button><button class="btn outline" onclick="openModal('exportLogs')">Export</button><button class="btn danger" onclick="openModal('purgeLogs')">Purge</button></div></div><div class="code-block" id="logsViewer" style="height:460px;overflow:auto"></div></div><div id="settings" class="screen"><h2 style="font-size:26px;margin:4px 0 10px">Gateway Settings</h2><p class="small" style="margin-bottom:24px">Core configuration and operational controls.</p><div class="settings-grid"><div class="setting"><h4>Global Security</h4><div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px"><span style="font-size:13px">Require TLS</span><div class="toggle active" onclick="toggle(this)"></div></div><div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px"><span style="font-size:13px">Block Anonymous</span><div class="toggle" onclick="toggle(this)"></div></div><div style="display:flex;align-items:center;justify-content:space-between"><span style="font-size:13px">Geo Filtering</span><div class="toggle" onclick="toggle(this)"></div></div></div><div class="setting"><h4>Caching</h4><div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px"><span style="font-size:13px">Enable Cache</span><div class="toggle active" onclick="toggle(this)"></div></div><div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px"><span style="font-size:13px">Compression</span><div class="toggle" onclick="toggle(this)"></div></div><div style="display:flex;align-items:center;justify-content:space-between"><span style="font-size:13px">Stale While Revalidate</span><div class="toggle active" onclick="toggle(this)"></div></div></div><div class="setting"><h4>Observability</h4><div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px"><span style="font-size:13px">Enable Metrics</span><div class="toggle active" onclick="toggle(this)"></div></div><div style="display:flex;align-items:center;justify-content:space-between;margin-bottom:10px"><span style="font-size:13px">Tracing</span><div class="toggle" onclick="toggle(this)"></div></div><div style="display:flex;align-items:center;justify-content:space-between"><span style="font-size:13px">Anomaly Alerts</span><div class="toggle active" onclick="toggle(this)"></div></div></div><div class="setting"><h4>Danger Zone</h4><div class="danger-zone" onclick="openModal('resetGateway')">Reset Gateway Configuration</div></div></div></div></div></div></div><div class="floating">Kenkai Labs Prototype</div><div id="modal" class="modal"><div class="modal-box"><h2 id="modalTitle">Modal</h2><div class="modal-sub" id="modalSub">Description goes here.</div><div id="modalBody"></div><div class="modal-actions" id="modalActions"></div></div></div><script>const navItems=[...document.querySelectorAll('.nav-item')];navItems.forEach(n=>n.addEventListener('click',()=>{navItems.forEach(i=>i.classList.remove('active'));n.classList.add('active');const target=n.getAttribute('data-screen');document.querySelectorAll('.screen').forEach(s=>s.classList.remove('active'));document.getElementById(target).classList.add('active');document.getElementById('headerTitle').textContent=n.textContent.trim();}));const activityList=document.getElementById('activityList');function pushActivity(msg){const div=document.createElement('div');div.className='item';const now=new Date().toLocaleTimeString();div.innerHTML=`<span>${msg}</span><span class='muted'>${now}</span>`;activityList.prepend(div);if(activityList.children.length>10)activityList.removeChild(activityList.lastChild);}['New key generated','Endpoint /orders updated','Policy throttle-v2 applied','Deprecated /v1/users','Imported 3 endpoints'].forEach(m=>pushActivity(m));const endpoints=[{method:'GET',path:'/v1/users',desc:'List users',status:'live',rpm:2100,err:'0.02%'},{method:'POST',path:'/v1/users',desc:'Create user',status:'beta',rpm:320,err:'0.20%'},{method:'GET',path:'/v1/users/:id',desc:'Get user',status:'live',rpm:1800,err:'0.01%'},{method:'PUT',path:'/v1/users/:id',desc:'Update user',status:'live',rpm:240,err:'0.15%'},{method:'DELETE',path:'/v1/users/:id',desc:'Delete user',status:'live',rpm:120,err:'0.40%'},{method:'GET',path:'/v1/analytics',desc:'Metrics summary',status:'beta',rpm:860,err:'0.05%'},{method:'GET',path:'/v1/inventory',desc:'Inventory list',status:'live',rpm:960,err:'0.02%'},{method:'POST',path:'/v1/inventory',desc:'Create item',status:'live',rpm:144,err:'0.18%'},{method:'GET',path:'/v1/orders',desc:'Orders feed',status:'live',rpm:2110,err:'0.07%'},{method:'POST',path:'/v1/orders',desc:'Create order',status:'live',rpm:310,err:'0.22%'},{method:'GET',path:'/v1/orders/:id',desc:'Order detail',status:'live',rpm:1640,err:'0.03%'},{method:'GET',path:'/v1/health',desc:'Health ping',status:'deprecated',rpm:920,err:'0.11%'}];function renderEndpoints(){const method=document.getElementById('filterMethod').value;const status=document.getElementById('filterStatus').value;const q=document.getElementById('filterSearch').value.toLowerCase();const tbody=document.getElementById('endpointTable');tbody.innerHTML='';endpoints.filter(e=>(method==='all'||e.method===method)&&(status==='all'||e.status===status)&&e.path.toLowerCase().includes(q)).forEach(e=>{const tr=document.createElement('tr');tr.className='endpoint-row';tr.onclick=()=>openEndpoint(e);tr.innerHTML=`<td><span class='endpoint-method ${e.method.toLowerCase()==='delete'?'del':e.method.toLowerCase()}'>${e.method}</span></td><td>${e.path}</td><td>${e.desc}</td><td><span class='status ${e.status}'>${e.status}</span></td><td>${e.rpm}</td><td>${e.err}</td><td><button class='btn outline' style='padding:4px 10px;font-size:11px' onclick='event.stopPropagation(); openEndpoint(e)'>View</button></td>`;tbody.appendChild(tr);});}renderEndpoints();function openEndpoint(e){openModal('endpointDetail',{title:`Endpoint: ${e.method} ${e.path}`,sub:e.desc,body:`<div class='code-block'>curl -X ${e.method} https://api.example.com${e.path}\n\nResponse: { ... }</div><div class='pill-list'>${['Metrics','Auth','Rate','Test'].map(t=>`<span class='pill'>${t}</span>`).join('')}</div>`,actions:`<button class='btn outline' onclick='closeModal()'>Close</button><button class='btn' onclick='openModal("editEndpoint",${JSON.stringify(e)})'>Edit</button><button class='btn danger' onclick='openModal("deprecateEndpoint",${JSON.stringify(e)})'>Deprecate</button>`});}const keys=[{id:'K-prod-01',scope:'full',status:'active'},{id:'K-prod-02',scope:'readonly',status:'active'},{id:'K-beta-01',scope:'beta',status:'active'},{id:'K-exp-01',scope:'experimental',status:'suspended'}];function renderKeys(){const list=document.getElementById('keysList');list.innerHTML='';keys.forEach(k=>{const div=document.createElement('div');div.className='item';div.onclick=()=>openKey(k);div.innerHTML=`<span>${k.id}</span><span class='muted'>${k.scope} ‚Ä¢ ${k.status}</span>`;list.appendChild(div);});}renderKeys();function openKey(k){openModal('keyDetail',{title:`Key ${k.id}`,sub:`Scope: ${k.scope}`,body:`<div class='code-block'>X-API-KEY: ${k.id}\nStatus: ${k.status}\nCreated: ${new Date().toLocaleDateString()}\nUsage: ${(Math.random()*1000).toFixed(0)} requests today</div>`,actions:`<button class='btn outline' onclick='closeModal()'>Close</button><button class='btn' onclick='openModal("rotateKey",${JSON.stringify(k)})'>Rotate</button><button class='btn danger' onclick='openModal("revokeKey",${JSON.stringify(k)})'>Revoke</button>`});}const ratePolicies=[{id:'default',limit:'2000 rpm',desc:'Global default policy'},{id:'burst-analytics',limit:'8000 rpm',desc:'Analytics bursts allowed'},{id:'partner-tier',limit:'5000 rpm',desc:'Partner integration tier'}];function renderRatePolicies(){const container=document.getElementById('ratePolicies');container.innerHTML='';ratePolicies.forEach(p=>{const box=document.createElement('div');box.className='rate-box';box.onclick=()=>openModal('rateDetail',p);box.innerHTML=`<div style='display:flex;align-items:center;justify-content:space-between'><h3 style='margin:0;font-size:15px'>${p.id}</h3><span class='pill'>${p.limit}</span></div><p style='font-size:12px;color:#94a3b8;margin:6px 0 0'>${p.desc}</p>`;container.appendChild(box);});}renderRatePolicies();function renderBreaches(){const list=document.getElementById('breachList');list.innerHTML='';['/v1/orders','/v1/analytics','/v1/inventory'].forEach(p=>{const div=document.createElement('div');div.className='item';div.innerHTML=`<span>${p}</span><span class='muted'>Throttled ${(Math.random()*120).toFixed(0)}s ago</span>`;list.appendChild(div);});}renderBreaches();function addLogLine(){const viewer=document.getElementById('logsViewer');const line=document.createElement('div');line.className='log-line';const ep=endpoints[Math.floor(Math.random()*endpoints.length)];line.textContent=`${new Date().toISOString()} ${ep.method} ${ep.path} 200 ${(Math.random()*400).toFixed(0)}ms`;viewer.prepend(line);if(viewer.children.length>160)viewer.removeChild(viewer.lastChild);}for(let i=0;i<30;i++)addLogLine();function toggle(el){el.classList.toggle('active');pushActivity('Setting changed');}const modal=document.getElementById('modal');function openModal(type,data={}){let title='Action',sub='Details',body='',actions=`<button class='btn outline' onclick='closeModal()'>Close</button>`;switch(type){case'newEndpoint':title='Create Endpoint';sub='Define path & method';body=`<div class='field'><label>Method</label><select><option>GET</option><option>POST</option><option>PUT</option><option>DELETE</option></select></div><div class='field'><label>Path</label><input placeholder='/v1/resource'/></div><div class='field'><label>Description</label><textarea rows='3'></textarea></div>`;actions+=`<button class='btn primary' onclick='closeModal();pushActivity("Endpoint created")'>Create</button>`;break;case'editEndpoint':title='Edit Endpoint';sub=data.path;body=`<div class='field'><label>Path</label><input value='${data.path}'/></div><div class='field'><label>Description</label><textarea rows='2'>${data.desc}</textarea></div><div class='field'><label>Status</label><select><option ${data.status==='live'?'selected':''}>live</option><option ${data.status==='beta'?'selected':''}>beta</option><option ${data.status==='deprecated'?'selected':''}>deprecated</option></select></div>`;actions+=`<button class='btn primary' onclick='closeModal();pushActivity("Endpoint updated")'>Save</button>`;break;case'deprecateEndpoint':title='Deprecate Endpoint';sub=data.path;body=`<p class='small'>Marking as deprecated will warn consumers and hide from default listings.</p>`;actions+=`<button class='btn danger' onclick='closeModal();pushActivity("Endpoint deprecated")'>Confirm</button>`;break;case'endpointDetail':title=data.title;sub=data.sub;body=data.body;actions=data.actions;break;case'newKey':title='Generate API Key';sub='Scoped credential';body=`<div class='field'><label>Scope</label><select><option>full</option><option>readonly</option><option>beta</option></select></div><div class='field'><label>Label</label><input placeholder='Internal dashboard'/></div>`;actions+=`<button class='btn primary' onclick='closeModal();pushActivity("Key generated")'>Generate</button>`;break;case'rotateKey':title='Rotate Key';sub=data.id;body=`<p class='small'>A new secret will replace existing usage immediately.</p>`;actions+=`<button class='btn primary' onclick='closeModal();pushActivity("Key rotated")'>Rotate</button>`;break;case'revokeKey':title='Revoke Key';sub=data.id;body='<p class="small">This key will stop functioning instantly.</p>';actions+=`<button class='btn danger' onclick='closeModal();pushActivity("Key revoked")'>Revoke</button>`;break;case'revokeMulti':title='Bulk Revoke';sub='Select keys to revoke';body='<div class="pill-list">'+keys.map(k=>`<span class='pill'>${k.id}</span>`).join('')+'</div>';actions+=`<button class='btn danger' onclick='closeModal();pushActivity("Multiple keys revoked")'>Revoke Selected</button>`;break;case'keyDetail':title=data.title;sub=data.sub;body=data.body;actions=data.actions;break;case'newRate':title='Add Rate Policy';sub='Define limits';body=`<div class='field'><label>ID</label><input placeholder='analytics-burst'/></div><div class='field'><label>Limit (rpm)</label><input placeholder='5000'/></div>`;actions+=`<button class='btn primary' onclick='closeModal();pushActivity("Rate policy added")'>Save</button>`;break;case'testThrottle':title='Throttle Test';sub='Simulate request volume';body='<p class="small">Synthetic traffic generator started.</p>';actions+=`<button class='btn primary' onclick='closeModal();pushActivity("Throttle test running")'>Run</button>`;break;case'rateDetail':title='Rate Policy';sub=data.id;body=`<div class='code-block'>Policy: ${data.id}\nLimit: ${data.limit}\nDesc: ${data.desc}</div>`;actions+=`<button class='btn danger' onclick='closeModal();pushActivity("Policy removed")'>Delete</button>`;break;case'requestsMetric':title='Requests Detail';sub='24 hour window';body='<div class="code-block">Hour breakdown... (simulated)</div>';break;case'latencyMetric':title='Latency Detail';sub='Distribution percentiles';body='<div class="code-block">p50 120ms\np95 311ms\np99 480ms</div>';break;case'uptimeMetric':title='Uptime Detail';sub='Last 30 days';body='<div class="code-block">Incidents: 2 minor (resolved)</div>';break;case'authActive':title='Active Keys Detail';sub='Usage summary';body='<div class="code-block">Total: 42\nNew today: 3</div>';break;case'endpointCount':title='Endpoint Count';sub='Inventory';body='<div class="code-block">Total endpoints: 27\nDeprecated: 3</div>';break;case'rateBreaches':title='Rate Limit Breaches';sub='Recent';body='<div class="code-block">5 events auto throttled.</div>';break;case'bulkImport':title='Bulk Import Endpoints';sub='Paste definitions';body='<div class="field"><label>Definitions JSON</label><textarea rows="6" placeholder="[{ method: GET, path: /v1/... }] "></textarea></div>';actions+=`<button class='btn primary' onclick='closeModal();pushActivity("Endpoints imported")'>Import</button>`;break;case'activityFeed':title='Activity Feed';sub='Recent events';body='<div class="code-block">'+[...activityList.children].map(c=>c.textContent).join('\n')+'</div>';break;case'exportLogs':title='Export Logs';sub='Download snapshot';body='<p class="small">Preparing log bundle...</p>';actions+=`<button class='btn primary' onclick='closeModal();pushActivity("Logs exported")'>Export</button>`;break;case'purgeLogs':title='Purge Logs';sub='Remove all entries';body='<p class="small">Irreversible action. Confirm purge?</p>';actions+=`<button class='btn danger' onclick='document.getElementById("logsViewer").innerHTML="";closeModal();pushActivity("Logs purged")'>Purge</button>`;break;case'resetGateway':title='Reset Gateway';sub='Factory defaults';body='<p class="small">Configuration will be wiped. Proceed?</p>';actions+=`<button class='btn danger' onclick='closeModal();pushActivity("Gateway reset queued")'>Confirm Reset</button>`;break;case'quickHelp':title='Quick Help';sub='Navigation overview';body='<ul style="font-size:13px;line-height:1.5;color:#94a3b8;margin:0;padding-left:18px"><li>Dashboard: Metrics & activity</li><li>Endpoints: Manage API surface</li><li>Auth Keys: Issue credentials</li><li>Rate Limits: Policies & breaches</li><li>Logs: Stream requests</li><li>Settings: Security & ops</li></ul>';break;default:break;}document.getElementById('modalTitle').textContent=title;document.getElementById('modalSub').textContent=sub;document.getElementById('modalBody').innerHTML=body;document.getElementById('modalActions').innerHTML=actions;modal.classList.add('active');}function closeModal(){modal.classList.remove('active');}modal.addEventListener('click',e=>{if(e.target===modal)closeModal();});document.addEventListener('keydown',e=>{if(e.key==='Escape')closeModal();});</script></body></html>